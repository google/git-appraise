{"timestamp":"1463693208","reviewRef":"refs/pull/49/head","targetRef":"refs/heads/master","requester":"ojarjur","description":"Two substantial performance improvements for listing reviews:\n\n1. Add a `GetAllNotes` method to the Repo interface. This reads the\r\n   contents for all git-notes under the given ref in a single batch\r\n   operation. This is faster than the old method because we only\r\n   shell out to the git command a fixed number of times rather than\r\n   doing so repeatedely for every single review.\r\n2. When checking each review to see if it has been submitted, cache\r\n   the set of commits reachable from each target ref, and use that\r\n   for determining submitted status. This saves us from having to\r\n   reperform the (linear) scan of the git history for every review.\r\n\r\nWith these changes, listing the reviews for the git-appraise repo\r\ndrops from taking ~2 seconds to ~0.15 seconds.\r\n\r\nFor one particular test repo, with 15k reviews, this drops the list\r\nlatency from 48 minutes to 6 seconds.","baseCommit":"299a6746ed3b8f0501588a01b75d9b04bf5f5116"}
